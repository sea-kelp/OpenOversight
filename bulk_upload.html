<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Using the bulk upload feature &#8212; OpenOversight  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=20a8fdea" />
    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Advanced csv import" href="advanced_csv_import.html" />
    <link rel="prev" title="Area Coordinator" href="area_coordinator.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/lpl-logo.png" alt="Logo" />
    
    <h1 class="logo logo-name">OpenOversight</h1>
    
  </a>
</p>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="area_coordinator.html">Area Coordinator</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Using the bulk upload feature</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#preparation-steps">Preparation steps</a></li>
<li class="toctree-l2"><a class="reference internal" href="#layout-of-the-csv-file">Layout of the csv file</a></li>
<li class="toctree-l2"><a class="reference internal" href="#explanation-of-the-individual-fields">Explanation of the individual fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-command-to-run-on-the-server">The command to run on the server</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="advanced_csv_import.html">Advanced csv import</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="area_coordinator.html" title="previous chapter">Area Coordinator</a></li>
      <li>Next: <a href="advanced_csv_import.html" title="next chapter">Advanced csv import</a></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="using-the-bulk-upload-feature">
<h1>Using the bulk upload feature<a class="headerlink" href="#using-the-bulk-upload-feature" title="Link to this heading">¶</a></h1>
<p>To facilitate adding rosters of new departments or updating existing
departments there is a flask command that gives system administrators
the ability to load the data from a csv file directly into the database.</p>
<p><strong>Warning</strong> This process is not very robust at this point and there is
risk of leaving the database in an inconsistent state. It is strongly
recommended to back up the database before starting this operation and
to run the command on a development server first and see if the results
are as expected.</p>
<section id="preparation-steps">
<h2>Preparation steps<a class="headerlink" href="#preparation-steps" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Create department if it does not exist</p></li>
<li><p>Add ranks in hierarchical order, make sure all the ranks present in
the csv are added</p></li>
</ul>
</section>
<section id="layout-of-the-csv-file">
<h2>Layout of the csv file<a class="headerlink" href="#layout-of-the-csv-file" title="Link to this heading">¶</a></h2>
<p>The csv file can have the following fields:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">department_id</span>
 <span class="n">unique_internal_identifier</span>
 <span class="n">first_name</span>
 <span class="n">last_name</span>
 <span class="n">middle_initial</span>
 <span class="n">suffix</span>
 <span class="n">gender</span>
 <span class="n">race</span>
 <span class="n">employment_date</span>
 <span class="n">birth_year</span>
 <span class="n">star_no</span>
 <span class="n">job_title</span>
 <span class="n">unit_id</span>
 <span class="n">start_date</span>
 <span class="n">resign_date</span>
 <span class="n">salary</span>
 <span class="n">salary_year</span>
 <span class="n">salary_is_fiscal_year</span>
 <span class="n">overtime_pay</span>
</pre></div>
</div>
</section>
<section id="explanation-of-the-individual-fields">
<h2>Explanation of the individual fields<a class="headerlink" href="#explanation-of-the-individual-fields" title="Link to this heading">¶</a></h2>
<p>General information:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">department_id</span></code> - ID of department in the server database, for example <code class="docutils literal notranslate"><span class="pre">1</span></code> for Chicago Police Department can be found in
url for that department: <code class="docutils literal notranslate"><span class="pre">https://openoversight.com/departments/1</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unique_internal_identifier</span></code> - A string or number that can be used to uniquely identify the officer, in departments in
which the badge number stays with the officer using that number is fine, otherwise it is recommended to leave this
blank and provide the <code class="docutils literal notranslate"><span class="pre">star_no</span></code> instead.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">first_name</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">last_name</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">middle_initial</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">suffix</span></code> - One of the following values: <code class="docutils literal notranslate"><span class="pre">Jr,</span> <span class="pre">Sr,</span> <span class="pre">II,</span> <span class="pre">III,</span> <span class="pre">IV,</span> <span class="pre">V</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gender</span></code> - One of the following values: <code class="docutils literal notranslate"><span class="pre">M</span></code>, <code class="docutils literal notranslate"><span class="pre">F</span></code>, <code class="docutils literal notranslate"><span class="pre">Other</span></code> or <code class="docutils literal notranslate"><span class="pre">Not</span> <span class="pre">Sure</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">race</span></code> - One of the following values: <code class="docutils literal notranslate"><span class="pre">BLACK</span></code>, <code class="docutils literal notranslate"><span class="pre">WHITE</span></code>, <code class="docutils literal notranslate"><span class="pre">ASIAN</span></code>, <code class="docutils literal notranslate"><span class="pre">HISPANIC</span></code>, <code class="docutils literal notranslate"><span class="pre">NATIVE</span> <span class="pre">AMERICAN</span></code>, <code class="docutils literal notranslate"><span class="pre">PACIFIC</span> <span class="pre">ISLANDER</span></code>, <code class="docutils literal notranslate"><span class="pre">Other</span></code>, <code class="docutils literal notranslate"><span class="pre">Not</span> <span class="pre">Sure</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">employment_date</span></code> - Start of employment with this department.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">birth_year</span></code> - Integer representing the birth year of the officer in a <code class="docutils literal notranslate"><span class="pre">yyyy</span></code> format</p></li>
</ul>
<p>Current Employment information:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">star_no</span></code> - Star or badge number, might be related to current rank.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">job_title</span></code> - Rank or title, needs to be added to this department verbatim or <code class="docutils literal notranslate"><span class="pre">Not</span> <span class="pre">Sure</span></code>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unit_id</span></code> - ID of unit within the department.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">start_date</span></code> - Start date of this assignment.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">resign_date</span></code> - Resignation date of this assignment.</p></li>
</ul>
<p>Salary information:
If adding salary data, the following fields are required: <code class="docutils literal notranslate"><span class="pre">salary_year</span></code>,
<code class="docutils literal notranslate"><span class="pre">salary_is_fiscal_year</span></code>, and <code class="docutils literal notranslate"><span class="pre">salary</span></code>.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">salary_year</span></code> - Year of which the salary information is provided in a <code class="docutils literal notranslate"><span class="pre">yyyy</span></code> format.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">salary_is_fiscal_year</span></code> - <code class="docutils literal notranslate"><span class="pre">true</span></code> or <code class="docutils literal notranslate"><span class="pre">false</span></code>, salary information is on fiscal year basis vs. calendar year.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">salary</span></code> - Salary in given year.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">overtime_pay</span></code> - Overtime received in given year.</p></li>
</ul>
<p>Required fields</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">department_id</span></code>, <code class="docutils literal notranslate"><span class="pre">first_name</span></code>, <code class="docutils literal notranslate"><span class="pre">last_name</span></code>, <code class="docutils literal notranslate"><span class="pre">job_title</span></code> and either <code class="docutils literal notranslate"><span class="pre">star_no</span></code> or <code class="docutils literal notranslate"><span class="pre">unique_internal_identifier</span></code> are required.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">employment_date</span></code>, <code class="docutils literal notranslate"><span class="pre">start_date</span></code> and <code class="docutils literal notranslate"><span class="pre">resign_date</span></code> can be either in <code class="docutils literal notranslate"><span class="pre">yyyy-mm-dd</span></code> or <code class="docutils literal notranslate"><span class="pre">mm/dd/yyyy</span></code> format - if the column is present
the field cannot be left blank.</p></li>
</ul>
<p>Command-line options</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--no-create</span></code> - For each line in the CSV, update an existing officer if one exists, but do not create any new officers. If an officer in the CSV is not already in OpenOversight, the line will be ignored.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--update-by-name</span></code> - Update officers by <code class="docutils literal notranslate"><span class="pre">first_name</span></code> and <code class="docutils literal notranslate"><span class="pre">last_name</span></code>. Useful when <code class="docutils literal notranslate"><span class="pre">unique_internal_identifier</span></code> and <code class="docutils literal notranslate"><span class="pre">star_no</span></code> are not available.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--update-static-fields</span></code> - Allow modifications to normally-static fields like <code class="docutils literal notranslate"><span class="pre">race</span></code>, <code class="docutils literal notranslate"><span class="pre">birth_year</span></code>, etc., which OpenOversight normally prevents from being modified. Values in the database will be overwritten with values in the CSV.</p></li>
</ul>
</section>
<section id="the-command-to-run-on-the-server">
<h2>The command to run on the server<a class="headerlink" href="#the-command-to-run-on-the-server" title="Link to this heading">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">/usr/src/app/OpenOversight$</span> <span class="pre">flask</span> <span class="pre">bulk-add-officers</span> <span class="pre">[/path/to/csv_file.csv]</span></code></p>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &#169;2018, Lucy Parsons Labs.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.3.7</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="_sources/bulk_upload.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>